<html>
    <head>
        <title>Namespace System</title>
    </head>
    <body>
        <h1>The Namespace System</h1>
        <p>
            The namespace system is the sub-system that handles the file paths for files produced while running 
            experiments. It handles generating the path strings at which files should be saved, as well as changing 
            the paths for existing files when you change the configuration using the interface defined by
            <a href="alter_namespace.html">alter_namespace.py</a>.
        </p>
        <p>
            The file paths are divided into five sections:<br>
            <ol>
                <li>
                    <b>Path Root</b><br>
                    This section is the path (relative to the Code directory) to the directory under which all 
                    files generated by running experiments will be placed.<br> 
                    This directory can be changed by going into the file Code/Utilities/global_names.py and 
                    changing the value of the temp_dir variable.<br>
                    The value of this section at the time of writing points to the directory 
                    Files/Temporary/Created. This section will always be first in the file path.
                </li>
                <li>
                    <b>Application Parameters</b><br>
                    This section identifies the application that was used in the experiments that produced the 
                    files below it. It also identifies the values of any application parameters that 
                    it is configured to display for those experiments.<br> 
                    It consists of one or more sub-sections, each of which can be configured 
                    to either join to the section following it using a 
                    <a href="terminology.html#basic_separator">basic separator</a>, or it can be a directory that 
                    the sections following it are placed into.<br>
                    The first sub-section will always be 
                    <b>app-<a href="terminology.html#app_alg_name">&gtapplication name&lt</a></b>.
                    The remaining sub-sections, if they exist, will be the values for the application 
                    parameters that the namespace system has been configured to use.<br>
                    <br>
                    The order that this section and the Algorithm Parameters section appear in can be configured.
                </li>
                <li>
                    <b>Algorithm Parameters</b><br>
                    This section identifies the algorithm that was used in the experiments that produced the 
                    files below it. It also identifies the values of any algorithm parameters that 
                    it is configured to display for those experiments.<br> 
                    It consists of one or more sub-sections, each of which can be configured 
                    to either join to the section following it using a 
                    <a href="terminology.html#basic_separator">basic separator</a>, or it can be a directory that 
                    the sections following it are placed into.<br>
                    The first sub-section will always be 
                    <b>alg-<a href="terminology.html#app_alg_name">&gtalgorithm name&lt</a></b>.
                    The remaining sub-sections, if they exist, will be the values for the application 
                    parameters that the namespace system has been configured to use.<br>
                    <br>
                    The order that this section and the Application Parameters section appear in can be configured.
                </li>
                <li>
                    <b>Joint Parameters</b><br>
                    This is an optional section containing information used to identify
                    individual experimental runs. That way you can keep result information from multiple 
                    experiment runs with the exact same experimental setup. The configuration for the 
                    parameters to use is customizable for each application/algorithm pairing (hence why 
                    they are called <a href="terminology.html#joint">joint</a> parameters.<br> 
                    <br>
                    The available sub-sections are a timestamp with a precision level of seconds 
                    and/or an eight digit random ID, appearing in that order. The recommendation is 
                    to use the timestamp when you wish to be able to easily identify which set of runs a result file 
                    came from or when you want to sort results by date and to use a random ID 
                    when you wish to perfom multiple runs of a single experiment setup within a 
                    single call to the experiment running system.<br>
                    If both sub-sections are used, they are joined to each other using a 
                    <a href="terminology.html#basic_separator">basic separator</a>. 
                    This section can be configured to either join to the section following it using a 
                    <a href="terminology.html#basic_separator">basic separator</a>, or it can be a directory that 
                    the section following it are placed into. However, this configuration information is only 
                    used if the section is used (if at least one of the two sub-sections is used). 
                    Additionally, if the section is used, then the previous section will be a directory in 
                    which this section is placed, regardless of how the end of the preceeding section is 
                    configured.
                </li>
                <li>
                    <b>Base File Name</b><br>
                    This section is the name that a file would have if you were to strip the 
                    path of all the information (and separators in between) that identifies experimental parameters 
                    and the individual run. If there were a <a href="#path_separator">path separator</a> after the 
                    last parameter, this would be the actual name of the file. Most of the time, this will simply 
                    be 'results.pkl'. However, if the run produced intermediate files that it used in its calculations, 
                    or simply wished to produce additional output files, they would use different base file names 
                    in order to differentiate themselves.<br>
                    <br>
                    This value is not configurable through some setting, as it is not actually provided by 
                    the namespace system. Instead, when a user (or other parts of the system) request a path, 
                    the namespace system will return a string path for everything up before the base file name,
                    and it is up to the caller to concatenate the base file name to the returned path in order 
                    to have a full file path.<br>
                    <br>
                    At the time of writing, the value returned by an algorithm's run method is saved by the 
                    system in a file with a base file name of 'results.pkl'.
                </li>
            </ol>
        </p>
        <p>
            In order to specify and track the configuration for different parts of the system, 
            the namespace system uses a number of JSON files, coupled with having a default value 
            for any configurations for which a file has not been created.<br> 
            One configuration file specifies whether it is the application or algorithm parameters 
            that appear first in the file paths, with the default (at the time of writing) being that 
            application parameters appear first.<br>
            Additionally, application and algorithm can have its own configuration file, with the default 
            configuration being to use just the first sub-section 
            (the one that identifies the application or algorithm) and join it to whatever 
            section follows using a <a href="terminology.html#basic_separator">basic separator</a>.<br>
            Finally, Each application-algorithm pair is allowed its own configuration file to specify 
            the configuration of the corresponding joint parameters section. The default 
            configuration is that a random ID (but no timestamp) will be used and it will be 
            joined to the base file name using a 
            <a href="terminology.html#basic_separator">basic separator</a>.<br>
            <br>
            It is acceptable and encouraged to create and edit these configuration files yourself, 
            so long as the configuration specified by the file doesn't change where the system 
            would expect to find any result files that existed prior to the creation of/change to 
            the configuration file. For details on the format and creation of these configuration 
            files, see <a href="namespace_files.html">Namespace Files</a>.<br>
            <br>
            In order to change parts of the configuration that affect existing files, use the 
            interface provided to users by running the file alter_namespace.py. Details found 
            <a href="alter_namespace.html">here</a>.<br>
            <br>
            One additional important detail:<br>
            Configuration files are tracked by version control. This is to allow the project to 
            be cloned onto other machines or onto computing clusters and immediately run experiments, 
            instead of needing to reconfigure the paths. However, if multiple users have their 
            own clones of the repository, the situation becomes more difficult.<br> 
            If one user changes 
            the configuration and pushes the changes, other users will receive the changes to the 
            configuration the next time they pull the same branch, but the paths of already 
            existing files will not be updated to match.<br>
            If the users desire to share changes to configurations, it is necessary for each user
            to locally enact the configuration changes before pulling the changes from version 
            control.<br>
            If the goal is for each user to have their own configuration, then the recommendation
            is for each user to have a separate branch just for configuration changes and running 
            experiments and then have them merge code changes from other branches.
        </p>
    </body>
</html>